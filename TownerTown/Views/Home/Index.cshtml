

@model TownerTown.Web.Models.SearchViewModel
@using Microsoft.AspNetCore.Http;

@{
    ViewData["Title"] = "Home Page";
}
<div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-2">

            </div>
            @if (@Context.Session.GetString("IsMobileDevice") == null)
            {
                <div class="col-sm-8">

                    <div class="col-sm-12" style="height:300px; text-align:center">
                        <img src="~/lib/images/Logos/1617522881108.jpg" style="margin-top: 30px;width:400px; height:200px" />
                        <h2>Search India</h2>
                    </div>
                    <div class="col-sm-12">
                        <form asp-controller="ManageBusiness" asp-action="LandingPage" method="post" style="width: 80%; margin-left: 135px;">

                            <div class="row">
                                <div class="col-sm-4" style="padding:0px">
                                    @Html.HiddenFor(Model => Model.ID)
                                    @Html.DropDownListFor(Model => Model.selectedCity, new SelectList(Model.Cities, "CityID", "CityName"), "Select City", new { Id = "Location" })
                                </div>
                                <div class="col-sm-6" style="padding:0px">
                                    @Html.ListBoxFor(Model => Model.selectedCategories, new SelectList(Model.Categories, "CategoryName", "CategoryName"), new { Id = "Categories", multiple = "multiple" })
                                    @Html.HiddenFor(Model => Model.Categories)
                                    @Html.HiddenFor(Model => Model.Cities)
                                </div>
                                <div class="col-sm-2" style="padding:0px">
                                    <input type="submit" name="Submit" value="Search" style="font-size:large">
                                </div>
                            </div>


                        </form>
                    </div>

                    <div class="col-sm-12">

                    </div>
                </div>
            }
            else
            {
                <div class="col-sm-8">

                    <div class="col-sm-12" style="height:350px; text-align:center">
                        <img src="~/lib/images/Logos/1617522881108.jpg" style="margin-top: 100px;width:300px; height:200px" />
                        <h2>Search India</h2>
                    </div>
                    <div class="col-sm-12">
                        <form asp-controller="ManageBusiness" asp-action="LandingPage" method="post">

                            <div style="margin-bottom:10px">
                                @Html.HiddenFor(Model => Model.ID)
                                @Html.DropDownListFor(Model => Model.selectedCity, new SelectList(Model.Cities, "CityID", "CityName"), "Select City", new { Id = "Location" })
                            </div>


                            <div style="margin-bottom:10px">
                                @Html.ListBoxFor(Model => Model.selectedCategories, new SelectList(Model.Categories, "CategoryName", "CategoryName"), new { Id = "Categories", multiple = "multiple" })
                                @Html.HiddenFor(Model => Model.Categories)
                                @Html.HiddenFor(Model => Model.Cities)
                            </div>
                            <div>
                                <input class="btn btn-primary" type="submit" name="Submit" value="Search" style="font-size:large">
                            </div>

                        </form>
                    </div>

                    <div class="col-sm-12">

                    </div>
                </div>
            }
            <div class="col-sm-2">

            </div>
        </div>


    </div>
</div>



<link href="~/lib/Chosen/chosen.min.css" rel="stylesheet" />
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/js/chosen.jquery.min.js"></script>
<style>
    .chosen-container {
        width: 100% !important;
        font-size:large
    }

    .chosen-container-single .chosen-single {
        height: 30px;
        border-radius: 3px;
        border: 1px solid #CCCCCC;
        font-size: large
    }

        .chosen-container-single .chosen-single span {
            padding-top: 2px;
        }

        .chosen-container-single .chosen-single div b {
            margin-top: 2px;
        }

    .chosen-container-active .chosen-single,
    .chosen-container-active.chosen-with-drop .chosen-single {
        border-color: #ccc;
        border-color: rgba(82, 168, 236, .8);
        outline: 0;
        outline: thin dotted \9;
        -moz-box-shadow: 0 0 8px rgba(82, 168, 236, .6);
        box-shadow: 0 0 8px rgba(82, 168, 236, .6)
    }

    .box {
        margin: 20px auto;
        width: 100%;
        max-width: 150px;
        height: 40px;
        text-align: center;
    }

        .box .container-1 input {
            width: 100%;
        }
    .chosen-container chosen-container-single{
        margin-bottom:10px
    }
</style>
<script>
    $(document).ready(function () {
        if ($('.chosen-container').length > 0) {
            $('.chosen-container').on('touchstart', function (e) {
                e.stopPropagation(); e.preventDefault();
                // Trigger the mousedown event.
                $(this).trigger('mousedown');
            });
        }
        (function ($) {
            $("#Location").chosen(
                //{ allow_single_deselect: true }
            );
            $("#Categories").chosen(
                { max_selected_options: 1 }
            );

        })(jQuery);
    });
</script>



